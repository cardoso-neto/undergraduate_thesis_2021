\chapter{Modelagem do Sistema}

Este capítulo apresenta a modelagem completa das ferramentas
propostas, buscando o esclarecimento de suas funcionalidades e características
através de sua abstração.

\section{Diagramas de Atividades}

Nesta seção serão apresentados os diagramas de atividade das ferramentas quem tem contato direto com o usuário(\textit{Scraper} e Rede \textit{Peer-to-Peer}), com foco nas atividades que serão executadas no funcionamento destas ferramentas.
\subsection{Extração de Dados\label{subsec:extracao_de_dados}}
Esse processo realiza a extração de dados da web 2.0, esse é o método principal para a migração de dados da web 2.0 para a web 3.0, as principais atividade do processo podem ser vistas no diagrama de atividades representado na figura ~\ref{fig:extracao_de_dados}.
\begin{figure}[H]
    \centering
    \includesvg[width=\textwidth]{fig/Extracao_de_dados.svg}
    \caption[Diagrama de Atividades : Extração de Dados]{\label{fig:extracao_de_dados}
        Diagrama de Atividades : Extração de Dados\\
        Fonte: os autores.
    }
\end{figure}
Esse processo já está descrito a partir da rede social da web 2.0 que será utilizada para a aplicação das ferramentas deste trabalho, assim além
do usuário e da ferramenta \textit{scraper} temos a API do \textit{4chan}. Por estarmos utilizando o \textit{4chan} que é uma plataforma que não necessita o cadastro de um usuário não existe o passo para a autenticação junto a API, para outras plataformas como \textit{Facebook} e \textit{Twitter} necessitaríamos um passo a mais e a utilização  de um \textit{token} nas chamadas a API.

O processo começa com a etapa onde o usuário indica qual o dado deseja salvar em seu computador; Exemplo: \textit{board}, \textit{thread}, comentário (Todos exemplos de postagens do \textit{4chan}). E depois o
formato que deseja que eles sejam salvos; Exemplo: XML, JSON, TXT. Após essa primeira etapa o \textit{scraper} recebe esses dados e cria uma requisição para a API do \textit{4chan} e fica no aguardo da
reposta, recebido a resposta o \textit{scraper} formata os dados conforme os parametros que o usuário especificou e salva os dados no local indicado pelo usuário.

\subsection{Solicitação de Dados pela Rede P2P\label{subsec:Solicitacao_Dados}}
Este processo realiza a comunicação e a troca de dados dentro da rede P2P, uma fez extraído os dados da web 2.0 esse vai ser o novo formato de obtenção e troca de dados sem a necessidade do 
do \textit{4chan}. A partir deste processo o usuário fica independente das plataformas da web 2.0. as principais atividade do processo podem ser vistas no diagrama de atividades 
representado na figura ~\ref{fig:Solicitacao_Dados}. 
\begin{figure}[H]
    \includesvg[width= 1.11\textwidth]{fig/Solicitacao_Dados.svg}
    \caption[Diagrama de Atividades : Solicitação de Dados pela Rede P2P]{\label{fig:Solicitacao_Dados}
        Diagrama de Atividades : Solicitação de Dados pela Rede P2P\\
        Fonte: os autores.
    }
\end{figure}
O processo começa com a etapa onde o usuário indica qual o dado deseja acessar; Exemplo:\textit{board}, \textit{thread}, comentário (Todos exemplos de postagens do \textit{4chan}). Depois a rede procura pela \textit{hash} desse \textit{post} na rede para descobrir qual nodo tem esse dado, verificando-se existem nodos da lista de nodos confiáveis do usuário, não tendo nodos da lista confiáveis oferece a opção de baixar
de um nodo não confiável. Após essa primeira etapa é realizado a comunicação entre os nodos e transferido os arquivos, por fim o usuário escolhe se deseja manter salvo os arquivos 
em usa máquina. 
\section{Diagramas de Sequência}
Nesta seção serão apresentados os diagramas de sequencia das ferramentas quem tem contato direto com o usuário(\textit{Scraper} e Rede \textit{Peer-to-Peer}), com foco na comunicação entre os objetos e nos tempos de execução e reposta das funcionalidade destas ferramentas.
\subsection{Extração de Dados}
Esta seção faz a analise dos tempos de execução e resposta do processo de extração de dados descrito na seção~\ref{subsec:extracao_de_dados}. A representação dos tempos de execução podem ser vistas através do diagrama de sequencia representado na figura~\ref{fig:seq_extracao_dados}. 
\begin{figure}[H]
    \includesvg[width= 1.10\textwidth]{fig/DiagramadeSequenciaScraper.svg}
    \caption[Diagrama de Sequência : Extração de Dados]{\label{fig:seq_extracao_dados}
        Diagrama de Sequência : Extração de Dados\\
        Fonte: os autores.
    }
\end{figure}

O processo inicia com a solicitação síncrona do usuário ao \textit{Scraper}, que envia uma requisição síncrona para a API do \textit{4chan}, o \textit{Scraper} fica a espera de uma resposta assíncrona do \textit{4chan} e envia uma resposta assíncrona para o usuário. 
O tempo de espera do usuário deve ser perto do tempo de espera de uma aplicação da web 2.0, visto que o processo é o mesmo. A única diferença de tempo que pode ser esperada depende do formato do dado que o usuário escolheu
se o formato for diferente da resposta da API um tempo de formatação do \textit{Scraper} deverá ser adicionado ao tempo de espera esperado.

\subsection{Solicitação de Dados pela Rede P2P}
Esta seção faz a analise dos tempos de execução e resposta do processo de solicitação de dados pela \textit{rede peer-to-peer} descrito na seção~\ref{subsec:Solicitacao_Dados}. A representação dos tempos de execução podem ser vistas através do diagrama de sequencia representado na figura~\ref{fig:seq_Solicitacao_dados}. 
\begin{figure}[H]
    \includesvg[width= 1.11\textwidth]{fig/DiagramaSequenciaRedeP2P.svg}
    \caption[Diagrama de Sequência :Solicitação de Dados pela Rede P2P]{\label{fig:seq_Solicitacao_dados}
        Diagrama de Sequência : Solicitação de Dados pela Rede P2P\\
        Fonte: os autores.
    }
\end{figure}
O processo inicia com solicitação síncrona do usuário a rede \textit{peer-to-peer}, indicando os dados
requisitados, a rede \textit{peer-to-peer} envia uma resposta assíncrona que pode ser dado encontrado ou dado não encontrado,
a partir desse dado o usuário envia uma solicitação ao \textit{peer} que contém o conteúdo desejado
e começa o download do conteúdo. Este processo contém algumas variáveis, como a conexão entre os dois \textit{peers}
e quantos \textit{peers} na rede contém aquele dado, pois na rede \textit{peer-to-peer} é possível baixar partes de um dado de fontes diferentes. Assim o tempo de execução pode ser menor ou maior que o da plataforma da web 2.0.
\section{Diagramas de Casos de Uso}
Nesta seção serão apresentados os diagramas de caso de uso e os atores
modelados por ferramenta. O objetivo do uso desta modelagem é abordar mais profundamente as funcionalidades das ferramentas atráves da modelagem de casos de uso. 
\subsection{Atores}
Por o projeto ser um conjunto de ferramentas, elas serão utilizadas apenas por um tipo de Ator, o usuário. Ele será responsável por fornecer os dados de entrada para as ferramentas, e as configurações que melhor desejar e que possam ser fornecidas as ferramentas.
\begin{figure}[H]
    \centering
    \includesvg[width=0.09\textwidth]{fig/Ator.svg}
    \caption[Diagrama do Ator]{\label{fig:diagrama_do_ator}
        Diagrama do Ator\\
        Fonte: os autores.
    }
\end{figure}
\subsection{Casos de Uso Scraper}
Nesta seção será apresentado os casos de uso para o ator usuário na ferramenta \textit{Scraper}.
\subsubsection{UC01 - Especificar o Formato dos Dados}
Permite ao usuário especificar ao \textit{Scraper} qual o formato dos dados que ele espera receber. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} essa informação, ou configurá-lo previamente com o formato favorito.
\subsubsection{UC02 - Baixar conteúdo de Texto de uma Thread do 4chan}
Permite ao usuário baixar todo o texto de uma thread do 4chan. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar o texto.
\subsubsection{UC03 - Baixar conteúdo de mídia(fotos, vídeos)  de uma Thread do 4chan}
Permite ao usuário baixar todo a mídia de uma thread do 4chan. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar a mídia.
\subsubsection{UC04 - Baixar todo o conteúdo de uma Thread do 4chan}
Permite ao usuário baixar todo a conteúdo de uma thread do 4chan (mídia e texto). Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar todo o conteúdo.
\begin{figure}[ht]
    \centering
    \includesvg[width=\textwidth]{fig/Ator_Scraper1.svg}
    \caption[Casos de uso Scraper UC01, UC02, UC03, e UC04]{\label{fig:Ator_Scraper1}
        Casos de uso Scraper UC01,UC02,UC03,UC04\\
        Fonte: os autores.
    }
\end{figure}
\subsubsection{UC05 - Especificar Threads para monitoramento}
Permite ao usuário informar uma thread para monitoramento no 4chan, assim o scraper fará consultas constantemente, buscando e baixando alterações na thread. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja monitorar.  
\subsubsection{UC06 - Especificar Boards para monitoramento}
Permite ao usuário informar um board para monitoramento no 4chan, assim o scraper fará consultas constantemente, buscando e baixando alterações no board. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id do board que deseja monitorar.  
\subsubsection{UC07 - Interromper o monitoramento de uma Thread que estiver fechada}
Permite ao usuário configurar o \textit{Scraper} para parar de monitorar threads que estiverem fechadas.
\begin{figure}[H]
    \centering
    \includesvg[width=0.65\textwidth]{fig/Ator_Scraper2.svg}
    \caption[Casos de uso Scraper UC05,UC06,UC07]{\label{fig:Ator_Scraper2}
        Casos de uso Scraper UC05,UC06,UC07\\
        Fonte: os autores.
    }
\end{figure}
\subsection{Casos de Uso Networking}
Nesta seção será apresentado os casos de uso para o ator usuário com ferramenta \textit{Networking}.
\subsubsection{UC01 - Procurar Conteúdo pela Rede}
Permite ao usuário procurar conteúdo pela rede peer-to-peer, para isso ele deve passar o nome ou hash do arquivo que deseja.
\subsubsection{UC02 - Requisitar Conteúdo pela Rede}
Permite ao usuário requisitar conteúdo pela rede peer-to-peer, para isso ele deve passar o nome ou hash do arquivo que deseja.
\subsubsection{UC03 - Fornecer Conteúdo pela Rede}
Permite ao usuário fornecer conteúdo pela rede peer-to-peer, para isso ele deve ter o arquivo e configurar a rede para fornecer o conteúdo.
\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{fig/Ator_Networking1.svg}
    \caption[Casos de uso Networking UC01,UC02,UC03]{\label{fig:Ator_Networking2}
        Casos de uso Networking UC01,UC02,UC03\\
        Fonte: os autores.
    }
\end{figure}
\subsection{Casos de Uso Criptografia}
Nesta seção será apresentado os casos de uso para o ator usuário com ferramenta \textit{Criptografia}.
\subsubsection{UC01 - Criar um par de chaves criptográficas}
Permite ao usuário criar um par de chaves criptográficas para garantir a autenticidade e integridade no compartilhamento de arquivos na rede.
\subsubsection{UC02 - Criar lista de nodos confiáveis}
Permite ao usuário criar uma lista de nodos confiáveis, para isso o usuário deve armazenar uma lista com a chave pública dos nodos que julgar confiáveis.
\subsubsection{UC03 - Exportar minha chave pública para Compartilhamento}
Permite ao usuário exportar a chave pública no formato cleartext para compartilhamento. Para isso o usuário necessita ter um par de chaves criptográficas. 
\begin{figure}[H]
    \centering
    \includesvg[width=0.7\textwidth]{fig/Ator_Crypto1.svg}
    \caption[Casos de uso Criptografia UC01,UC02,UC03]{\label{fig:Ator_Crypto1}
        Casos de uso Criptografia UC01,UC02,UC03\\
        Fonte: os autores.
    }
\end{figure}
\subsubsection{UC04 - Assinar arquivos com a minha chave privada}
Permite ao usuário assinar arquivos com sua chave privada para que os outros peers da rede que o mantém como nodo confiável e tem sua chave publica possam reconhecer a assinatura e identificar que ele é um peer confiável. Para isso o usuário deve ter um par de chaves criptográficas.
\subsubsection{UC05 - Verificar se a assinatura de um arquivo pertence a minha lista de nodos confiáveis}
Permite ao usuário identificar a assinatura de um nodo confiável a partir da chave publica na lista de nodos confiáveis. Para isso o usuário necessita ter armazenado na sua lista de nodos confiáveis a chave publica do nodo.
\begin{figure}[H]
    \centering
    \includesvg[width=0.7\textwidth]{fig/Ator_Crypto2.svg}
    \caption[Casos de uso Criptografia UC04,UC05]{\label{fig:Ator_Crypto2}
        Casos de uso Criptografia UC04,UC05\\
        Fonte: os autores.
    }
\end{figure}
\section{Detalhamento dos Casos de Uso}

\subsection{Especificar o Formato dos Dados}
\subsubsection{Descrição}
Permite ao usuário especificar ao \textit{Scraper} qual o formato dos dados que ele espera receber. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} essa informação, ou configurá-lo previamente com o formato favorito.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o formato dos dados.
\subsubsection{Pós-Condição}
O usuário tem o dados no formato desejado.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id do dado que deseja e o formato dos dados;
    \item Scraper realiza a busca do dado;
    \item Scraper realiza a formatação do dado;
    \item O usuário abre o dado;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Dado não existe no 4chan: ocorre quando no passo 3 scraper não acha o dado indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Scraper não reconhece o formato especificado: ocorre quando no passo 4 o scraper vai formatar o dado indicado pelo usuário e não consegue identificar o formato desejado.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Baixar conteúdo de Texto de uma Thread do 4chan}
\subsubsection{Descrição}
Permite ao usuário baixar todo o texto de uma thread do 4chan. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar o texto.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o id das threads que deseja salvar.
\subsubsection{Pós-Condição}
O usuário terá o todo conteúdo de texto da thread indicada.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id do dado que deseja e o formato dos dados;
    \item Scraper realiza a busca do dado;
    \item Scraper realiza a formatação do dado;
    \item O usuário abre o dado;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Dado não existe no 4chan: ocorre quando no passo 3 scraper não acha o dado indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Scraper não reconhece o formato especificado: ocorre quando no passo 4 o scraper vai formatar o dado indicado pelo usuário e não consegue identificar o formato desejado.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}

\subsection{Baixar conteúdo de mídia de uma Thread do 4chan}
\subsubsection{Descrição}
Permite ao usuário baixar todo a mídia de uma thread do 4chan. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar a mídia.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o id das threads que deseja salvar.
\subsubsection{Pós-Condição}
O usuário terá o todo conteúdo de mídia(fotos,vídeos) da thread indicada.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id do dado que deseja e o formato dos dados;
    \item Scraper realiza a busca do dado;
    \item Scraper realiza a formatação do dado;
    \item O usuário abre o dado;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Dado não existe no 4chan: ocorre quando no passo 3 scraper não acha o dado indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Scraper não reconhece o formato especificado: ocorre quando no passo 4 o scraper vai formatar o dado indicado pelo usuário e não consegue identificar o formato desejado.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}

\subsection{Baixar todo o conteúdo de uma Thread do 4chan}
\subsubsection{Descrição}
Permite ao usuário baixar todo a conteúdo de uma thread do 4chan (mídia e texto). Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja baixar todo o conteúdo.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o id das threads que deseja salvar.
\subsubsection{Pós-Condição}
O usuário terá o todo conteúdo da thread indicada.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id do dado que deseja e o formato dos dados;
    \item Scraper realiza a busca do dado;
    \item Scraper realiza a formatação do dado;
    \item O usuário abre o dado;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Dado não existe no 4chan: ocorre quando no passo 3 scraper não acha o dado indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Scraper não reconhece o formato especificado: ocorre quando no passo 4 o scraper vai formatar o dado indicado pelo usuário e não consegue identificar o formato desejado.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Especificar Threads para monitoramento}
\subsubsection{Descrição}
Permite ao usuário informar uma thread para monitoramento no 4chan, assim o scraper fará consultas constantemente, buscando e baixando alterações na thread. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id da thread que deseja monitorar. 
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o id das threads que deseja monitorar.
\subsubsection{Pós-Condição}
O usuário terá o conteúdo da thread constantemente atualizado.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id da thread que deseja monitorar;
    \item Scraper realiza a busca da thread;
    \item Scraper começa o monitoramento da thread;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Thread não existe no 4chan: ocorre quando no passo 3 scraper não acha a thread indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Especificar Boards para monitoramento}
\subsubsection{Descrição}
Permite ao usuário informar um board para monitoramento no 4chan, assim o scraper fará consultas constantemente, buscando e baixando alterações no board. Para isso o usuário deve passar como parâmetro para o \textit{Scraper} a id do board que deseja monitorar.  
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o id das boards que deseja monitorar.
\subsubsection{Pós-Condição}
O usuário terá o conteúdo do board constantemente atualizado.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id do board que deseja monitorar;
    \item Scraper realiza a busca do board;
    \item Scraper começa o monitoramento do board;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Board não existe no 4chan: ocorre quando no passo 3 scraper não acha o board indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Interromper o monitoramento de uma Thread que estiver fechada}
\subsubsection{Descrição}
Permite ao usuário configurar o \textit{Scraper} para parar de monitorar threads que estiverem fechadas.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
Nenhuma pré-condição é necessária.
\subsubsection{Pós-Condição}
O scraper deixará de buscar atualizações na thread.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Abre o Scraper pela linha de comando;
    \item Passa como parâmetro o id da thread;
    \item Scraper adiciona ao monitoramento da thread a flag de fechada ou aberto;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item Thread não existe no 4chan: ocorre quando no passo 3 scraper não acha a Thread indicado pelo usuário no 4chan.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Scraper não monitora essa thread: ocorre quando no passo 3 scraper não tem essa Thread na sua lista de monitoração.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Procurar Conteúdo pela Rede}
\subsubsection{Descrição}
Permite ao usuário procurar conteúdo pela rede peer-to-peer, para isso ele deve passar o nome ou hash do arquivo que deseja.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o nome ou a hash do arquivo que deseja buscar.
\subsubsection{Pós-Condição}
O usuário saberá se um dado existe na rede, e os nodos que contem aquele dado.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Passa como parâmetro o nome ou hash do arquivo desejado;
    \item A rede pesquisa o arquivo pela rede;
    \item A rede informa uma lista de usuário que contém o arquivo;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item O arquivo não existe na rede: ocorre quando no passo 3 a rede não acha o arquivo indicado pelo usuário.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Requisitar Conteúdo pela Rede}
\subsubsection{Descrição}
Permite ao usuário requisitar conteúdo pela rede peer-to-peer, para isso ele deve passar o nome ou hash do arquivo que deseja.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve informar o nome ou a hash do arquivo que deseja requisitar.
\subsubsection{Pós-Condição}
O usuário terá o arquivo requisitado.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Passa como parâmetro o nome ou hash do arquivo desejado;
    \item A rede pesquisa o arquivo pela rede;
    \item A rede informa uma lista de usuário que contém o arquivo;
    \item O usuário informa se conecta a um dos usuários da lista;
    \item O usuário baixa o arquivo desejado;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item O arquivo não existe na rede: ocorre quando no passo 3 a rede não acha o arquivo indicado pelo usuário.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
    \item Não existe peers Confiáveis: ocorre quando no passo 4 nenhum dos peers está na lista de confiáveis do usuário.
    \begin{enumerate}
        \item Mostra mensagem se o usuário deseja prosseguir com um peer não confiável;
        \item Segue ao passo 5 ou encerra a execução.
    \end{enumerate}
\end{itemize}


\subsection{Fornecer Conteúdo pela Rede}

\subsubsection{Descrição}

Permite ao usuário fornecer conteúdo pela rede peer-to-peer, para isso ele deve ter o arquivo e configurar a rede para fornecer o conteúdo.

\subsubsection{Atores : Usuário}

\subsubsection{Pré-Condição}

O usuário deve ter armazenado os arquivos que deseja fornecer.

\subsubsection{Pós-Condição}

O usuário estará disponível na para outros usuários quando pesquisarem pelo arquivo servido. 

\subsubsection{Fluxo Principal}

\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Passa como parâmetro o local do arquivo em sua maquina;
    \item A rede lê o arquivo;
    \item A rede gera uma hash e espoem o arquivo para a rede;
\end{enumerate}

\subsubsection{Fluxo Alternativo}

\begin{itemize}
    \item O arquivo não existe no caminho informado: ocorre quando no passo 3 a rede não acha o arquivo indicado pelo usuário.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Criar um par de chaves criptográficas}
\subsubsection{Descrição}
Permite ao usuário criar um par de chaves criptográficas para garantir a autenticidade e integridade no compartilhamento de arquivos na rede.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
Nenhuma pré-condição é necessária.
\subsubsection{Pós-Condição}
O usuário terá um chave pública e uma chave criptográfica.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta ao modulo de criptografia pela linha de comando;
    \item Executa o método para criação de chaves criptográficas;
    \item O modulo de criptografia gera um par de chaves criptográficas para o usuário;
\end{enumerate}


\subsection{Criar lista de nodos confiáveis}
\subsubsection{Descrição}
Permite ao usuário criar uma lista de nodos confiáveis, para isso o usuário deve armazenar uma lista com a chave pública dos nodos que julgar confiáveis.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário deve ter no mínimo uma chave publica de um nodo para criar a lista.
\subsubsection{Pós-Condição}
O usuário terá uma lista de nodos confiáveis que poderá ser usado para verificar a identidade de um usuário e auxiliar no download de dados pela rede.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Executa o método para criação de lista de nodos confiáveis passando como parâmetro a chave publica de um nodo confiável;
    \item A rede gera a lista de nodos confiáveis;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item A lista já foi criada: ocorre quando no item 3 já ter uma lista criada.
    \begin{enumerate}
        \item Mostra mensagem de erro, perguntado se deseja substituir a lista;
        \item Substitui a lista ou encerra o programa.
    \end{enumerate}
\end{itemize}


\subsection{Exportar minha chave pública para Compartilhamento}
\subsubsection{Descrição}
Permite ao usuário exportar a chave pública no formato cleartext para compartilhamento. Para isso o usuário necessita ter um par de chaves criptográficas. 
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário precisa ter chaves criptográficas.
\subsubsection{Pós-Condição}
O usuário terá sua chave publica num formato de fácil compartilhamento.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Executa o método para exportar a chave publica no formato cleartext;
    \item A rede gera a converte a chave publica para cleartext e informa ao usuário;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item O usuário não tem chave publica cadastrada: ocorre quando no item 3 o usuário não tem um par de chaves criptográficas criadas.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Encerra o programa.
    \end{enumerate}
\end{itemize}


\subsection{Assinar arquivos com a minha chave privada}
\subsubsection{Descrição}
Permite ao usuário assinar arquivos com sua chave privada para que os outros peers da rede que o mantém como nodo confiável e tem sua chave publica possam reconhecer a assinatura e identificar que ele é um peer confiável. Para isso o usuário deve ter um par de chaves criptográficas.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário precisa ter chaves criptográficas.
\subsubsection{Pós-Condição}
O arquivo poderá ser verificado por usuários que tenham a chave pública correspondente.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Executa o método para assinar um arquivo passando como parâmetro o caminho do arquivo na maquina do usuário;
    \item A rede gera uma assinatura no arquivo;
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item O usuário não tem chave publica cadastrada: ocorre quando no item 3 o usuário não tem um par de chaves criptográficas criadas.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Encerra o programa.
    \end{enumerate}
     \item O arquivo não existe: ocorre quando no item 3 o programa não acha o arquivo no caminho especificado pelo usuário.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\subsection{Verificar se a assinatura de um arquivo pertence a minha lista de nodos confiáveis}
\subsubsection{Descrição}
Permite ao usuário identificar a assinatura de um nodo confiável a partir da chave publica na lista de nodos confiáveis. Para isso o usuário necessita ter armazenado na sua lista de nodos confiáveis a chave publica do nodo.
\subsubsection{Atores : Usuário}
\subsubsection{Pré-Condição}
O usuário precisa ter uma lista de nodos confiáveis.
\subsubsection{Pós-Condição}
O usuário terá verificado a identidade de quem assinou aquele arquivo.
\subsubsection{Fluxo Principal}
\begin{enumerate}
    \item Se conecta a rede pela linha de comando;
    \item Executa o método para buscar um arquivo na passando como parâmetro o nome ou a hash do arquivo;
    \item A rede pesquisa o arquivo pela rede;
    \item A rede informa uma lista de usuário que contém o arquivo;
    \item O usuário seleciona o arquivo e usuário e pede para rede verificar a assinatura;
    \item A rede verifica a assinatura.
\end{enumerate}
\subsubsection{Fluxo Alternativo}
\begin{itemize}
    \item O arquivo não existe na rede: ocorre quando no passo 3 a rede não acha o arquivo indicado pelo usuário.
    \begin{enumerate}
        \item Mostra mensagem de erro;
        \item Retorna ao passo 2.
    \end{enumerate}
\end{itemize}


\chapter{Metodologia}

A metodologia empregada para o planejamento e desenvolvimento do sistema deste trabalho de conclusão é o tradicional modelo cascata.
Esse modelo funciona como um exemplo de um processo dirigido a planos, onde, em princípio deve-se planejar e programar todas as atividades do processo até a implementação e a manutenção do dele~\cite{SOMMERVILLE1}.

Consiste numa sequência de fases em que cada fase dá suporte para a próxima, assim o produto de cada fase torna-se a entrada para a seguinte~\cite{BALTZAN1}, a fase inicial é definição de requisitos que busca estabelecer os serviços, restrições e metas do sistema, normalmente por meio de consultas com o usuário~\cite{SOMMERVILLE1}; a próxima fase projeto de sistema e software é a fase em que a identificação e descrição das abstrações fundamentais do sistema é realizada, alocando os requisitos do sistema por meio de uma arquitetura geral do sistema~\cite{SOMMERVILLE1}; a terceira fase implementação e teste unitário é a fase de desenvolvimento do projeto como um conjunto de programas ou unidades de programa, utilizando o teste unitário para verificar de cada unidade, tendo certeza de que a mesma cumpra sua especificação~\cite{SOMMERVILLE1}; a quarta fase integração e teste de sistema é quando as unidades criadas na fase anterior de maneira independente são integradas e testadas como um sistema único e completo, verificando se todos os requisitos estão sendo atendidos~\cite{SOMMERVILLE1}.
Na fase final, Operação e manutenção, é o momento em que o sistema é de fato instalado e colocado em uso, é onde os eventuais erros que não apareceram anteriormente são resolvidos e, também, onde novos requisitos podem ser descobertos~\cite{SOMMERVILLE1}. 
\begin{figure}[H]
    \centering
    \includesvg[width=\textwidth]{fig/Modelo_Cascata.svg}
    \caption[Diagrama do Modelo Cascata]{\label{fig:Modelo_Cascata}
        Diagrama do Modelo Cascata\\
        Fonte: os autores.
    }
\end{figure}
Por mais que essa seja uma metodologia não mais tão utilizada pelas empresas devido à sua característica de precisão extrema que não leva em consideração mudanças durante o desenvolvimento do projeto~\cite{BALTZAN1}, para este trabalho ela se torna uma boa escolha, pois se trata de um Trabalho de Conclusão de Curso, com um único desenvolvedor e prazos muito bem definidos.
Devido à inexistência de um cliente e visando um público alvo, reuniões com o cliente são impossíveis e testes durante o desenvolvimento do trabalho com alguém que faça parte do público alvo não acontecerão facilmente, o modelo cascata se torna a melhor opção como metodologia de desenvolvimento do projeto. A partir de agora as fases alvo são: a codificação, os testes e a implementação/manutenção do sistema, concluindo assim o ciclo completo do modelo tradicional em cascata.
\chapter{Cronograma}

Apresentamos a seguir um cronograma relatando nossas atividades desenvolvidas e nosso planejamento, relatando as atividades que já foram e que serão desenvolvidas.

\begin{enumerate}
    \item \label{cron:search} Seleção e análise das redes sociais atuais.
    \item \label{cron:background} Consolidação da fundamentação teórica.
    \item \label{cron:architecture} Elaboração da proposta de Arquitetura.
    \item \label{cron:proposal} Entrega da proposta de TC.
    \item \label{cron:requirements} Identificação dos requisitos do sistema.
    \item \label{cron:diagrams} Elaboração da modelagem do sistema.
    \item \label{cron:methodology} Definição da metodologia de desenvolvimento.
    \item \label{cron:esc-tcI}  Entrega do volume final de TC1.
    \item \label{cron:scraper} Desenvolvimento do \textit{Scraper}.
    \item \label{cron:val1}  Teste e validação do \textit{Scraper} e estrutura de dados.
    \item \label{cron:network} Desenvolvimento da rede.
    \item \label{cron:val2} Teste e validação da rede e do protocolo da rede.
    \item \label{cron:integration} Integração entre \textit{Scraper} e rede de dados.
    \item \label{cron:val3} Testes da Integração.
    \item \label{cron:gui} Desenvolvimento da interface gráfica.
    \item \label{cron:val4} Testes e validações finais do sistema.
    \item \label{cron:poster} Entrega dos Cartazes.
    \item \label{cron:esc-tcII} Entrega da volume final de TC2.
\end{enumerate}

\definecolor{midgray}{gray}{.5}
\begin{table}[!htbp]
    \centering
    \begin{tabular}{|c|c|c|c|c|c|}
        \hline
                                & \multicolumn{5}{c|}{2021}                                                                                         \\
        \hline
                                & MAR                       & ABR                 & MAI                 & JUN                 & JUL                 \\
        \hline
        \ref{cron:search}       & \cellcolor{midgray}       &                     &                     &                     &                     \\
        \hline
        \ref{cron:background}   & \cellcolor{midgray}       &                     &                     &                     &                     \\
        \hline
        \ref{cron:architecture} &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:proposal}     &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:requirements} &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:diagrams}     &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:methodology}  &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:esc-tcI}      &                           & \cellcolor{midgray} &                     &                     &                     \\
        \hline
        \ref{cron:scraper}      &                           &                     & \cellcolor{midgray} &                     &                     \\
        \hline
        \ref{cron:val1}         &                           &                     & \cellcolor{midgray} &                     &                     \\
        \hline
        \ref{cron:network}      &                           &                     & \cellcolor{midgray} &                     &                     \\
        \hline
        \ref{cron:val2}         &                           &                     & \cellcolor{midgray} &                     &                     \\
        \hline
        \ref{cron:integration}  &                           &                     &                     & \cellcolor{midgray} &                     \\
        \hline
        \ref{cron:val3}         &                           &                     &                     & \cellcolor{midgray} &                     \\
        \hline
        \ref{cron:gui}          &                           &                     &                     & \cellcolor{midgray} &                     \\
        \hline
        \ref{cron:val4}         &                           &                     &                     & \cellcolor{midgray} &                     \\
        \hline
        \ref{cron:poster}       &                           &                     &                     & \cellcolor{midgray} &                     \\
        \hline
        \ref{cron:esc-tcII}     &                           &                     &                     &                     & \cellcolor{midgray} \\
        \hline
    \end{tabular}
    \caption{\label{tab:schedule}
        Cronograma de atividades.\\
        Fonte: os autores.
    }
\end{table}



%\chapter{Conclusão}

%\section{Limitações}

%Usuário 

%\section{Trabalhos futuros}

%\subsection{Sistema de governança}

%A definição dos formatos e estruturas de dados precisa ser gerida de forma aberta, transparente, e não-monopolística.

%Extensões do scraper (ou outros scrapers) para baixar conteúdos encontrados em links.
