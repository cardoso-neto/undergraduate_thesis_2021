\chapter{Introdução}

Redes sociais são plataformas online onde pessoas interagem entre si construindo relações sociais.
Surgindo nos anos 2000 com os avanços na qualidade do serviço e inclusão massiva de pessoas à internet, começaram com objetivos despretensiosos, como o \textit{Facebook}, criado em 2004 nos EUA, para ajudar alunos em universidades a conhecerem uns aos outros~\cite{Facebook1}.
Hoje evoluíram a ponto de representarem o maior tráfego da internet, com o mesmo \textit{Facebook} tendo alcançado a marca de 2 bilhões de usuários~\cite{Facebook2}~\cite{RedesSociais1}.

A rápida ascensão das mídias sociais fizeram com que empresas, após pouco mais de uma década de sua criação, aparecessem nos rankings de empresas mais valiosas do mundo~\cite{RedesSociais2}.
O sucesso das redes sociais se deve à inclusão de mais pessoas aos espaços de discussão, fazendo com que pequenos grupos pudessem influenciar e mudar grandes estruturas, formando um espaço de discussão com implicações globais~\cite{stadtfeld2020emergence}.
Assim, as novas mídias sociais serviram de berço para importantes movimentos das primeiras décadas do século XXI como: a primavera árabe, protestos pré-copa no Brasil, \textit{Brexit} no Reino Unido, e em diversas eleições pelo mundo dando destaque para a eleição Estadunidense em 2016 e a Brasileira em 2018~\cite{gonzalez2016networked}.

As novas mídias sociais definitivamente são um avanço se comparado às mídias tradicionais, visto que concedem a inclusão de mais pessoas aos espaços de discussão.
Entretanto, possuem um problema em comum com suas antecessoras: o controle privado da discussão pública e com o adendo de ter este controle ainda mais concentrado em poucas entidades do que no modelo anterior.
O tamanho poder adquirido nas últimas décadas por essas organizações foi muito maior do que uma empresa poderia ter tido antes e, como sabemos, \textit{com grandes poderes, vêm grandes responsabilidades}.
Isso gerou incidentes de uso imoral desse poder como a venda de dados do \textit{Facebook} para a \textit{Cambridge Analytica}, caso que resultou numa multa milionária para a empresa norte-americana e serviu de catalisador na mudança da opinião pública sobre o gerenciamento de dados pessoais feito pelas empresas de redes sociais~\cite{wiki:fb-camb-anal-scandal}.

Os escândalos e polêmicas expuseram os defeitos dessas plataformas sociais da web 2.0, iniciando um período de discussão e tentativas de regulação das funções e do controle e uso de dados dos usuários.
Exemplos disso são a lei brasileira LGPD (Lei Geral de Proteção de Dados) e a regulamentação Europeia GDPR (\textit{General Data Protection Regulation})~\cite{LGPD1} \cite{GPDR1}.
Ambas são regulações que visam proteger os usuários e seus dados em relação aos que controlam esses dados, assim as empresas devem cumprir certas obrigações com seus usuários envolvendo multas em caso de descumprimento dessas obrigações.

O problema que iremos abordar será o da centralização, pois com este diversas outras adversidades surgem, incluindo a principal que é o controle dos dados dos usuários por corporações e o mau uso deles; fato esse que foi o gerador das leis de proteção de dados já citadas.
Para evitar esse problema, propomos redes sociais descentralizadas, onde os usuários controlem seus dados e escolham com quem compartilhar, estabelecendo uma plataforma que serve de meio de compartilhamento e não de concentração de informação.

O modelo distribuído conferirá ao usuário (que é o criador de conteúdo das redes sociais) o poder sobre seus dados, podendo utilizá-los e migrá-los para novas plataformas.
Ele também aumenta a disponibilidade (\textit{availability} do teorema CAP) visto que não dependerá de um servidor centralizado com um ponto único de falha.
Além disso, permitirá a utilização da aplicação em redes de área local (LAN) sem acesso a rede externa e, mesmo que o nodo esteja offline (sem conexão de rede), ele ainda poderá \textit{browse} (navegar) o conteúdo que tiver disponível localmente (arquivado ou em cache).

Um dos benefícios da arquitetura que será proposta é delimitar as funções do usuário e da plataforma, fazendo com que o modelo arquitetônico das redes sociais fique claro e possibilite o uso de mídias sociais sem a utilização de dados de usuários por terceiros.
Conferindo ao usuário o poder e as obrigações em relação aos seus dados.

Diante deste contexto, o objetivo geral deste trabalho é propor uma arquitetura descentralizada baseada na web 3.0 para mídias sociais.

\chapter{\label{chap:problem}Caracterização do problema e justificativa}

Todas as mais usadas plataformas de mídia social pertencem a entidades privadas com os mais variados interesses.
Elas são gratuitas para usar, mas as corporações que detêm seu controle possuem fins lucrativos e, em sua grande maioria, são empresas de capital aberto.
Assim como as empresas da indústria que as precedeu, elas dependem da receita de anúncios para se sustentarem.

Por serem entidades privadas são livres para praticar a censura de qualquer conteúdo ou pessoa que quiserem sem implicações legais.
Não obstante, uma proporção muito grande (e constantemente crescente) das nossas comunicações diárias acontece através dessas plataformas.
Plataformas cujo interesse, em vez de prover a melhor experiência de usuário possível, é maximizar seus lucros.

Para mitigar esse problema de interesses desalinhados, alguém poderia pensar que a solução seria a criação de mídias sociais inteiramente descentralizadas e que não dependam de nenhum terceiro no controle.
Entretanto, a tecnologia para criar plataformas do tipo não apenas existe há anos, como já foi posta para uso no Dtube, diaspora, LBRY, Peertube, mastodon, scuttlebutt... e uma longa lista de redes sociais com poucos usuários e pouco conteúdo.

Como o inteiro objetivo de mídias sociais é o compartilhamento de conteúdo gerado e curado por usuários, o \textit{network-effect}\ref{foot:net-effect} é especialmente expressivo aqui.
\longfootnote[foot:net-effect]{
    Em teoria econômica, o fenômeno em que o valor agregado a um bem ou serviço é proporcional ao número de usuários utilizando-o é chamado de efeito de rede~\cite{wiki:net-effect}, em referência às redes de teoria de redes do corpo teórico da matemática, onde o número de arestas de uma rede totalmente conectada cresce quadraticamente em função do número de vértices.
}
Portanto, criar soluções novas e completamente separadas do tradicional está longe do ideal e, na nossa opinião, é prejudicial ao ecossistema, pois introduz mais fragmentação.

Acreditamos que, para possibilitar o alavancamento de um \textit{shift} no uso de mídias sociais controladas exclusivamente por terceiros para algo mais descentralizado, seja necessária uma solução que faça bom uso do conteúdo já disponível nas mídias sociais atuais e, idealmente, que os interesses das, atualmente extremamente poderosas, empresas do espaço possam ser alinhados com os interesses dos usuários.

\section{A importância da descentralização}

O modelo atual de mídia social, em que uma empresa \textit{for-profit} possui controle absoluto e inquestionável sobre todos aspectos de ferramentas das quais somos muito dependentes, é típico da web 2.0 e se popularizou porque foi o que permitiu que a majoritariamente estática web 1.0, com conteúdo criado apenas por aqueles que soubessem programar, fosse acessível para qualquer um criar e compartilhar conteúdo, em vez de apenas \textit{webmasters}.
No entanto, esse modelo, embora muito bem difundido, por ser centralizado, sofre com todos os problemas inerentes à centralização.

Quando falamos em centralização, evidenciamos nesse contexto de mídias sociais as seguintes desvantagens:
\begin{enumerate*}[label=(\arabic*)]
    \item facilidade de censura,
    \item interesses desalinhados com os dos usuários,
    \item ponto único de falha,
    \item obrigações sob às leis locais, e
    \item vulnerabilidade à corrupção.
\end{enumerate*}

\subsection{Censura}
As redes sociais deram uma falsa sensação de democracia na produção de conteúdo, pois saímos de um modelo da web 1.0 onde poucos produzem e muitos consomem para um ambiente da web 2.0 onde muitos produzem e muitos consomem. Porém a infraestrutura desse ambiente é controlada por empresas privadas que submetem os seus usuários a seus termos de uso, tiram proveito do conteúdo gerado por seus usuários e impõem arbitrariamente punições a opiniões contrárias a da empresa.

O grande crédito e influência dados as plataformas sociais corporativas encobriram  problemas como a alta influência que as redes sociais sofrem dos poderes políticos e econômicos, já que a infraestrutura de comunicação e tecnologia é moldada por regimes regulatórios, acordos internacionais, ganancias corporativas e práticas intrusivas de vigilância. Assim segundo Sasha Costanza-Chock\cite{Censura1}:


\begin{directcite}
    Em termos empresariais, ``Conteúdo Gerado por Usuário'' significa produto cultural gratuito disponível para monetização e contratos de licenciamento cruzado. ``Participação'' significa dados de usuário para minerar e vender para fins de propagandas e publicidade, e todo usuário ativo está sujeito a vigilância e censura.
\end{directcite}


% nicolas
%network effect, agora elas têm muito alcance e muitos dados
%por serem controladas por third parties
%eles podem usar esse alcance para influenciar opiniões
%e.g. elections, brexit, primavera árabe, movimentos sociais/políticos

%why giving that much power to corporations is a bad idea
%elas usarão seu poder para se manter no poder
%exemplo: Facebook selling user data
%GPDR, tentando conter o poder que os dados dão para corporações
%"ai precisamos de um corpo legal para controlar isso"
%"com multas 'pesadas' para puní-los"
%kkk até parece né uns burocratas usando papel rabiscado ganhando de corporações que valem centenas de bilhões de dólares

%(estatísticas de uso, o user-created content e.g. videos, images, etc)

\subsection{Interesses}

Teoria de jogos dita que, se atalhos existem para alcançar algum objetivo, jogadores encontrarão esse atalho e o explorarão.
Por serem entidades privadas e terem controle incontestado das suas plataformas, na busca de alcançar seu objetivo-mór, a maximização dos lucros que se dão através dos usuários vendo e/ou clicando em anúncios, os game-theoretic shortcuts envolvem:

\begin{enumerate}
    \item abusar dos mecanismos de falsa recompensa  para nos manter engajados,
    \item adquirir competidores assim que se tornem uma ameaça (e.g., Facebook adquirindo WhatsApp, Instagram, LiveRail, Onavo, Redkix, e outras 83 empresas\footnote{\url{https://en.wikipedia.org/wiki/List_of_mergers_and_acquisitions_by_Facebook}} da área.
    \item criar limitações artificias de interoperabilidade (estilo \textit{vendor lock-in}) para que um usuário não consiga utilizar serviços de terceiros ou próprios em conjunto, e
    \item usar os dados dos usuários como ``reféns'' para segurá-los em suas plataformas (e.g., não tendo como exportar os dados).
\end{enumerate}

Essas são apenas algumas das estratégias que podem ser empregadas (e na prática sempre são) quando os incentivos se desalinham.
E eles só se desalinham porque a centralização torna isso possível concedendo poderes que nenhuma entidade única deveria ter sobre coisas muito valiosas como nossa atenção, nossos dados pessoais, nossas preferências, e nosso conteúdo.

Acreditamos que, quando ``derrubarmos os muros'' desses \textit{walled gardens}\ref{foot:walled-gardens}, as corporações não terão escolha fora direcionar seus esforços a conquistar os usuários para usarem suas interfaces gráficas, pois graças aos dados descentralizados, a competição poderá surgir muito mais facilmente.

\longfootnote[foot:walled-gardens]{
    \textit{Walled gardens}~\cite{CLOSEDPLAT} se referem a plataformas tecnológicas que possuem barreiras artificiais levantadas por seus criadores com a intenção de dificultar que usuários migrem para uma plataforma competidora, talvez possibilitando um monopólio.
}

Desta forma, a questão de pesquisa que norteará este trabalho será: ``Como podemos transicionar as mídias sociais atuais para um modelo mais descentralizado sem perdermos os usuários e o conteúdo delas?''

A hipótese sobre a qual o trabalho está norteado é: ``As plataformas de mídias sociais mais usadas atualmente são centralizadas e por isso detêm o poder de ação sobre os dados dos usuários, utilizando esse controle para impor barreiras e manter seus usuários.''


% O esgotamento do modelo de arquitetura de software da Web 2.0 na figura das redes sociais torna nítida a necessidade de se propôr, não apenas novas arquiteturas, mas também, modelos de transição.
% Que visem suplantar os problemas das antigas arquiteturas, enquanto trazendo melhoras substanciais ao seus usuários em todas as etapas.

% A centralização confere muito poder aos seus administradores, pois podem influenciar um grande número de usuários e podem fazê-lo de forma bem focada (usando os dados dos seus algoritmos de direcionamento de anúncios).
% Isso será chamado censura interna ao longo deste trabalho, i.e., quando membros pertencentes à organização que controla a aplicação influenciam o conteúdo através de meios não-disponíveis aos usuários.
% A Centralização também os torna vulneráveis à censura externa, i.e., quando membros externos à organização os compelem usando quaisquer meios a influenciarem no conteúdo independentemente da vontade da organização.
% Além das alegações de pesado viés político~\cite{TLIB} e visões conspurcadas de justiça social fortemente entrelaçadas na cultura dessas empresas~\cite{DAMORE}, temos a proposital falta de transparência nos feeds algorítmicos empregados delas que, aparentemente, compartilham da ilusão coletiva de segurança por obscuridade que é provadamente ineficaz a longo prazo.

\chapter{Fundamentação teórica}

\section{Modelo de fases da World Wide Web}

O modelo de fases da web visa explicar as evoluções significativas da web, no formato onde uma fase é consequência da outra, de modo que cada uma trouxe novidades que permitiram o surgimento da outra~\cite{Web32}.

\subsection{Web 1.0}

Na primeira fase da Web, Web 1.0, os sites contém conteúdo estático e não são interativos com o usuário.
O surgimento da web foi marcado pela centralização da produção de conteúdo~\cite{Web32}.
Ainda com poucos usuários, e esses em sua grande maioria fazendo um uso bastante técnico da rede, predominavam os sites de empresas e instituições recheados de páginas ``em construção''.
Evoluindo de suas raízes de uso militar e universitário, a internet começou a caminhar e tomar forma diante das necessidades das pessoas.
Essa foi a era do e-mail, dos motores de busca simplistas e uma época onde todo site tinha uma seção de links recomendados~\cite{Web32}.

O usuário era apenas responsável por navegar e localizar conteúdo relevante, agindo predominantemente de modo passivo, num processo onde poucos produzem e muitos consomem.
A novidade foi a democratização do acesso à informação.

\subsection{Web 2.0}

Na segunda fase, Web 2.0, foi introduzido sites com conteúdo dinâmico e interativo, possuindo um layout claramente focado no consumidor e também na usabilidade dos buscadores. tornando o usuário um produtor de conteúdo.
Conceitos de criação de site e da otimização de site são altamente essenciais para os sites a partir da Web 2.0.
Nesse momento a navegação mobile e uso de aplicativos já tem forte presença no dia-a-dia das pessoas.
Também chamada de web participativa, foi a revolução dos blogs e chats, das mídias sociais colaborativas, das redes sociais e do conteúdo produzido pelos próprios internautas~\cite{Web32}.
Agora num processo onde muitos produzem e muitos consomem.
A novidade da Web 2.0 foi a democratização da produção de informação.

\subsection{Web 3.0}

Na terceira fase, Web 3.0, será adicionado o poder de alta personalização dos dados da web por parte do usuário, promovendo a democratização da capacidade de ação e conhecimento, o que anteriormente era apenas acessível a companhias e governos.
O termo Web 3.0 foi criado pelo jornalista John Markoff, do New York Times, baseado na evolução do termo Web 2.0 criado por O'Really em 2004~\cite{Web32}. Algumas evoluções desse momento poderão ser a ``Web Semântica'' ou a ``Web Inteligente''.

Essa era da internet permite a conexão de usuários até mesmo fora do resto da web, permitindo o agrupamento de conteúdo na web de modo a contextualizar a informação e agrupá-la mais eficiente e rapidamente.

\section{\textit{Web-scraping}}

\textit{Web-scraping} é uma técnica de extração de dados que visa extrair, estruturar e armazenar os dados de um fonte web com a finalidade de obter algum resultado.
Enfatizamos que se trata de uma técnica não-consensual, ou seja, que não exige consentimento dos donos dos sites que serão \textit{scraped}.

A extração pode ser feita através de diversas estratégias; as mais comuns~\cite{Scraping1} são:

\begin{itemize}
    \item \textbf{HTML parsing} consiste em analisar a estrutura de um HTML (\textit{Hypertext Markup Language}), identificar elementos parecidos e então extrair os dados de forma automatizada.
          Essa técnica é melhor utilizada com páginas HTML com estruturas similares.
    \item \textbf{DOM parsing} uma evolução da técnica de \textit{HTML parsing}, utiliza-se muito o CSS (Cascading Stylesheets) e o \textit{JavaScript} para  realizar a extração.
          O uso dessa técnica revela novas formas de endereçar partes da página.
    \item \textbf{XPath} (XML Path Language) funciona de modo similar aos endereçamentos da técnica de \textit{DOM parsing}.
          O nome sugere o uso para documentos XML (XML Path Language).
          Porém também pode ser utilizado para documentos HTML.
          O \textit{XPath} necessita de uma página com a estrutura mais precisa do que DOM e tem as mesma capacidade de endereçar segmentos da página.
    \item \textbf{APIs} enquanto as outras técnicas extraem dados não estruturados, a estratégia utilizando uma API (Application Programming Interface) espera se comunicar com outra aplicação, assim coletando dados estruturados~\cite{Scraping2}.
          Uma solicitação HTTP (Hypertext Transfer Protocol) padrão enviada a uma API retorna uma resposta do servidor.
          Cada API tem sua própria especificação e opções.
          O formato da resposta pode ser definido como opção na solicitação.
          O formato mais usado para comunicação da API é JSON (JavaScript Object Notation).
\end{itemize}

\section{Redes de computadores}

Rede de computadores (ou rede de dados) é um conjunto de dois ou mais dispositivos eletrônicos de computação (ou módulos processadores ou nodos de uma rede) interligados por um sistema de comunicação digital (ou link de dados), guiados por um conjunto de regras (protocolo de rede) para compartilhar entre si informação, serviços, e recursos físicos e lógicos~\cite{wiki:redecomputadores}.
Nessa seção, discorreremos sobre arquiteturas de redes centralizadas vs arquiteturas descentralizadas (ponto-a-ponto).

\subsection{Redes centralizadas}

São arquitetura de redes de computadores que visam centralizar o acesso a dados e serviços.
Assim todos os outros nodos da rede dependem de um nodo central que controla todos os recursos da rede.~\cite{wiki:modelorede}
Esse tipo de rede sofre do ponto único de falha ou ponto crítico de falha é uma tradução vinda da língua inglesa da expressão \textit{Single Point of Failure} para designar um local num sistema informático que, caso falhe, provoca a falha de todo o sistema~\cite{wiki:modelorede}.
Assim caso o nodo central falhar toda a rede se torna inoperável.

\subsection{Redes \textit{peer-to-peer}}

São arquitetura de redes de computadores onde cada um dos pontos ou nodos da rede funciona tanto como cliente quanto como servidor, permitindo compartilhamentos de serviços e dados sem a necessidade de um servidor central~\cite{wiki:modelorede}.
Por não se basear em uma arquitetura cliente-servidor, onde apenas o servidor é responsável pela execução de todas as funções da rede, o P2P (Peer-to-Peer) tem uma enorme vantagem justamente por não depender de um servidor e de todos os nodos estarem interconectados permitindo o acesso a qualquer nodo de qualquer nodo~\cite{wiki:modelorede}.
Por esse motivo a rede tem uma elevada disponibilidade.%~\ref{CAP disponibilidade}

\begin{figure}[htb!]
    \centering
    \includegraphics[width=\textwidth]{fig/centralized_decentralized_distributed.pdf}
    \caption[Graph representation of network architectures]{
        Representação em grafo dos modelos de computação ou arquiteturas de redes.\\
        Fonte: \url{https://berty.tech/fr/faq#what-does-decentralized-and-distributed-mean}
    }
    \label{fig:tipos-de-redes}
\end{figure}


\section{Funções de resumo \textit{hash} criptográficas}

Uma função de \textit{hash} é uma função determinística que tem como objetivo ``embaralhar'' e sumarizar a entrada.
Frequentemente, o objetivo dessas funções é, dado uma entrada arbitrária de comprimento indefinido, gerar uma saída de comprimento fixo, como você pode ver na figura~\ref{fig:função-hash}.
Note que mesmo pequenas mudanças na sua entrada alteram drasticamente a saída do resultado, pelo chamado efeito avalanche.
Para tal, utiliza-se algum dos modos de operação de cifras de blocos~\cite{wiki:cifras}.
Funções de \textit{hash} são usadas em muitas partes da criptografia e existem muitos tipos diferentes de funções de \textit{hash}, cada um com diferentes propriedades de segurança~\cite{HASH1}.

\begin{figure}[htb!]
    \centering
    \includegraphics[width=\textwidth]{fig/cryptographic-hash-function.pdf}
    \caption[Cryptographic hash function input and output examples]{
        Uma função de hash criptográfica (especificamente, SHA-1) funcionando.\\
        Fonte: \url{https://commons.wikimedia.org/wiki/File:Cryptographic_Hash_Function.svg}
    }
    \label{fig:função-hash}
\end{figure}

\subsection{Propriedades}

As funções \textit{hash} criptográficas são projetadas para receber uma cadeia de caracteres de qualquer tamanho como entrada e produzir um valor \textit{hash} de tamanho fixo.
Para uma função de \textit{hash} $\mathbb{H}$ ser considerada criptograficamente útil, no mínimo, ela deve ser resistente aos ataques de colisão, pré-imagem, e segunda-pré-imagem.

\begin{itemize}
    \item \textbf{Resistência à pré-imagem}
          \subitem A partir de um valor $h$ (um resumo, uma \textit{hash}) deve ser computacionalmente inviável encontrar a mensagem $m$ que gerou $h$ tal que $h = \mathbb{H}(m)$.
          Este conceito está relacionado ao da função de mão única (ou função unidirecional).
          Funções que não possuem essa propriedade estão vulneráveis a ataques de pré-imagem.
    \item \textbf{Resistência à segunda pré-imagem}
          \subitem Dada uma entrada $m_1$ deve ser difícil encontrar outra entrada $m_2$ tal que $\mathbb{H}(m_1) = \mathbb{H}(m_2)$.
          Funções que não possuem essa propriedade estão vulneráveis a ataques de segunda pré-imagem, o que implica em vulnerabilidade a colisões, afinal este é apenas um ataque de segunda pré-imagem mais aberto, i.e., com $m_1$ pré-definido.
    \item \textbf{Resistência à colisão}
          \subitem Deve ser computacionalmente inviável encontrar quaisquer duas mensagens diferentes $m_1$ e $m_2$ cujo resumo (\textit{hash}) seja igual, i.e., $\mathbb{H}(m_1) = \mathbb{H}(m_2)$.
          \subitem Tal par seria chamado de colisão de \textit{hash} criptográfica.
          Ela requer um valor \textit{hash} com pelo menos o dobro do comprimento necessário para resistência à pré-imagem; caso contrário, colisões poderiam ser encontradas através de um ataque do aniversário\footnote{\url{https://en.wikipedia.org/wiki/Birthday_attack}}.
\end{itemize}

\subsection{Aplicações}

Aqui estão alguns exemplos de usos das funções \textit{hash} criptográficas:

\subsubsection{Verificação de integridade}

Uma importante aplicação desses \textit{hashes} de segurança é na verificação da integridade de arquivos e mensagens.
Determinar se qualquer alteração foi feita a uma mensagem (ou um arquivo).
Por essa razão, muitos algoritmos de assinatura digital apenas confirmam a autenticidade do resumo de uma mensagem para ser ``autenticado''.~\cite{wiki:hashapp1}
Verificar a autenticidade do resumo de uma mensagem é considerado prova de que a mensagem em si é autêntica.

\subsubsection{Verificação de senha}

Uma aplicação relacionada é a verificação de senha.
Armazenar todas as senhas de um usuário como puro texto pode resultar em uma quebra massiva de segurança caso o arquivo de senha seja comprometido.~\cite{wiki:hashapp2}
Uma maneira de reduzir esse perigo é apenas armazenar o resumo de cada senha.
Para autenticar um usuário, calcula-se o resumo da senha fornecida pelo usuário e o compara-se ao resumo armazenado.
Note que essa abordagem impede que a senha original seja recuperada se esquecida ou perdida, e terá que ser substituída por uma nova.

\subsubsection{Identificador de arquivo}

Um resumo de mensagem também pode servir como um identificador confiável de arquivo; diversos sistemas de gerenciadores de código fonte, como \textit{Git}, \textit{Mercurial}, e \textit{Monotone}, usam \textit{checksums} de vários tipos de conteúdo (conteúdo de arquivo, árvores de diretório, informação ancestral, etc.) para identificá-los unicamente.~\cite{wiki:hashapp3}
\textit{Hashes} são usados para identificar arquivos em redes de compartilhamento de arquivos.
Tais \textit{hashes} de arquivo costumam aparecer no começo de listas de \textit{hashes} ou em árvores de \textit{hashes} o que propicia ainda mais benefícios.

\subsubsection{\textit{Information Retrieval}}

Uma das principais aplicações de uma função de \textit{hash} é permitir uma rápida recuperação dos dados em uma tabela \textit{hash}.
Por serem funções de \textit{hash} com propriedades específicas, funções de \textit{hash} criptográficas também podem ser utilizadas para essas aplicações.
Entretanto, comparadas a funções de \textit{hash} padrão, funções de \textit{hash} criptográficas tendem a ser computacionalmente mais caras.
Por essa razão, elas costumam ser usadas em contextos onde seja necessário que usuários protejam a si mesmo contra a possibilidade de falsificação (criação de dados com o mesmo resumo que os dados esperados) por agentes maliciosos em potencial.

\section{Endereçamento}

Nesta seção serão abordadas as técnicas de endereçamento que são utilizadas para referenciar ou apontar (\textit{link}) arquivos na web.
Segundo o dicionário da \textit{Oxford Languages} a definição de ``link'' na informática é ``ato ou efeito de endereçar ou identificar um registro [...] por meio de um endereço''.

\subsection{Endereçamento por nomes}

A principal técnica de endereçamento utilizada na internet e na web até hoje emprega nomes.
Do ponto de vista de endereços de computadores, dependemos de servidores de nomes (name servers, DNS).
Do ponto de vista de arquivos, dependemos de caminhos (\textit{paths}) em servidores (\textit{hosts}) específicos (e.g.: \url{http://some-server:80/image.png}).
Se o arquivo mudar de nome no servidor o apontamento se quebrará; se o servidor mudar de endereço o apontamento se quebrará; se o servidor estiver offline o cliente não conseguirá acessar o arquivo mesmo que alguém na LAN do cliente tenha uma cópia local do arquivo requisitado.
Embora prática e bastante \textit{human-readable}, essa abordagem é repleta de fragilidades, desperdícios de recursos (as cópias locais dos clientes), e sofre com todos os problemas inerentes à centralização.
Mas aqui, o que gostaríamos realmente de enfatizar enquanto fragilidade é a falta de escalabilidade dessa abordagem.

\subsection{Endereçamento por conteúdo}

Uma técnica mais moderna de endereçamento é criar identificadores baseados no conteúdo dos arquivos utilizando \textit{checksums} por exemplo.
É utilizado por programas controladores de versão como o \textit{git}, pois permite verificar rapidamente o conteúdo dos \textit{commits} e identificá-los.
Praticamente, entretanto, usa-se funções de \textit{hash} criptográficas, pois suas propriedades beneficiam o problema de endereçamento dos seguintes modos:

\begin{itemize}
    \item \textbf{autenticidade}, garante a autenticidade de um arquivo ou recurso contra tentativas de forjamento do conteúdo ou modificações.
    \item \textbf{busca rápida} existe uma miríade de estruturas de dados com operações de complexidade temporal assintótica amortizada constante para dados que sejam \textit{hashable}, e.g., \textit{hash tables}, \textit{merkle trees}, e \textit{hash-linked DAGs} (\textit{Directed Acyclic Graphs}) em geral.
    \item \textbf{deduplicação por padrão} arquivos com o mesmo conteúdo são reaproveitados de forma convergente.
          Pois \textit{hashes} de arquivos com mesmo conteúdo são idênticas.
    \item \textbf{imutabilidade} um endereço calculado hoje será o mesmo hoje e sempre.
    \item \textbf{integridade} oferece proteção contra possível corrupção de dados.
\end{itemize}

\section{Design de Protocolos}

O uso de camadas no design de protocolos de comunicação faz parte dos princípios básicos de engenharia de sistemas, formando uma \textit{stack}~\cite{wiki:protocol-design}.
O isolamento de responsabilidades em camadas de uma stack serve para reduzir a ``superfície de contato'' de cada camada (evitando explosões combinatórias quando enumerando os cenários de teste e facilitando a implementação, pois cada camada interage de forma previsível, simples, e bem-definida) e minimizar o acoplamento entre partes distintas do protocolo.

\subsection{Protocolos hourglass\label{subsec:thin-waist}}

Protocolos em formato de ampulheta são chamadas assim, pois eles são a cintura-fina em diagramas que demonstram quais protocolos interagem com quais.
O termo ``thin-waist'' (cintura-fina) pode ser usado sempre que houver uma grande diversidade dependências bipartites que utilizem algum conjuntos de mecanismos padronizados como uma interface universal para se comunicarem entre si.
Mais famosamente o termo é usado para se referir à internet (figura~\ref{fig:ip-stack-thin-waist}) e, mais especificamente, aos mecanismos de controle compartilhados universalmente do IP (Internet Protocol ou protocolo de internet), tanto pelas camadas inferiores de hardware quanto pelas superiores de software de nível de aplicação.
Maiores detalhes sobre arquitetura de redes e protocolos podem ser encontrados sumarizadas nesta página da wiki da Caltech escrita por Doyle et al~\cite{caltech:internet-waist} e, mais formalmente, no seu paper de 2005\footnote{\url{http://netlab.caltech.edu/publications/RobustInternetII-Doyle-2002.pdf}} onde discute a robustez da internet.

\begin{figure}[htb!]
    \centering
    \includegraphics[width=\textwidth]{fig/ip-stack-thin-waist.pdf}
    \caption[Protolo de Internet: ampulheta]{\label{fig:ip-stack-thin-waist}
        O Protocolo de Internet servindo de interface universal para sua \textit{network stack}.
        Em laranja temos definições de transporte; em verde, definições de dados a serem transportados.\\
        Fonte: os autores.
    }
\end{figure}

\chapter{Objetivos}

Apresentamos a seguir os objetivos gerais e específicos do presente trabalho.

\section{Objetivo geral}

Investigar possibilidades para propor um sistema que transforme a arquitetura de software centralizada das mídias sociais da web 2.0 em uma arquitetura descentralizada baseada na web 3.0.

\section{Objetivos específicos}

Para atingir o objetivo geral, foram estabelecidos os seguintes objetivos específicos:

\begin{enumerate}
    \item propor uma arquitetura descentralizada baseada na Web 3.0.
    \item desenvolver um conjunto de ferramentas para auxiliar na migração da arquitetura das mídias sociais existentes da Web 2.0 em mídias sociais descentralizadas da Web 3.0.
\end{enumerate}

\chapter{Análise das mídias sociais atuais}

Realizaremos neste capítulo uma breve análise das arquiteturas, aplicações, formas de monetização, armazenamento de dados, base de usuários, e sensibilidade à censura apontando as principais características e deficiências das mídias sociais modernas.
A fim de que possamos formular soluções que mitiguem as principais desvantagens encontradas.

\section{Facebook}

É uma rede social criada no ano de dois mil e quatro nos EUA, para ajudar alunos em universidades a conhecerem uns aos outros.
Seu proposito inicial foi superado e hoje é uma rede social com proposito mais geral do que o inicial,
conta com a marca de dois bilhões de usuários e realiza sua monetização através de propagandas e mensagens pagas~\cite{Facebook1} \cite{Facebook2}.
Sua arquitetura é centralizada e já viveu alguns escândalos de censura seja por parte de estados que proibiram o \textit{Facebook}\footnote{\url{https://www.facebook.com/}} ou até mesmo pelo próprio \textit{Facebook} censurando postagens de seus usuários~\cite{wiki:fb-crits-contro} \cite{wiki:fb-censorship}.

\begin{figure}[htb!]
    \centering
    \includesvg[height = 0.15\textheight]{fig/Facebook_icon.svg}
    \caption[Facebook's logo]{\label{fig:facebook-icon}
        \textit{Facebook, Inc.} (original logo)\\
        Fonte: \url{https://commons.wikimedia.org/wiki/File:Facebook_icon_2013.svg}
    }
\end{figure}

\section{\textit{4chan}}

É uma rede social que funciona como um quadro de avisos baseado em imagens, onde qualquer pessoa pode postar comentários e compartilhar imagens, usuários não precisam se cadastrar para participar de uma comunidade.
Apesar do anonimato prometido, qualquer postagem tem que passar pelas regras do 4chan\footnote{\url{https://www.4chan.org/}} e podem ser deletadas a qualquer momento pela equipe de moderação~\cite{4chan1}.
Foi criado no ano de dois mil e três e alcançou a marca de mais de vinte milhões de acessos por mês. Não há cobrança pelo uso da rede social e a monetização é feita por propagandas no site~\cite{4chan2}.

\begin{figure}[htb!]
    \centering
    \includesvg[height = 0.15\textheight]{fig/4chan_logo.svg}
    \caption[4chan's logo]{\label{fig:4chan-logo}
        \textit{4chan's} logo.

        Fonte: \url{https://seeklogo.com/vector-logo/395964/4chan}
    }
\end{figure}

\section{Diaspora}

É uma rede social descentralizada criada no ano de dois mil e dez, conta com mais de dois milhões de usuários e permite integração com outras redes sociais como \textit{Twitter}, \textit{Facebook}, e \textit{Tumblr}~\cite{Diaspora1}.
O usuário tem controle sobre seus dados podendo baixar a qualquer momento todos os dados de texto e imagem que foram carregados na plataforma, permite a liberdade para escolher em qual servidor ficará seus dados, além da transparência por ser um software de código aberto licenciado sob a licença GNU AGPL (Affero General Public License)~\cite{Diaspora2}.
Uma das marcas da \textit{Diaspora}\footnote{\url{https://diasporafoundation.org/}} é a promessa de ser uma rede social resistente à censura devido a sua arquitetura descentralizada.
Permite a monetização do seu conteúdo através de propagandas usando a rede \textit{peer-to-peer}, porem por padrão não mantém anúncios, sendo a opção de adicionar propagandas dos usuários para a monetização de seus \textit{posts}.

\begin{figure}[htb!]
    \centering
    \includesvg[height = 0.15\textheight]{fig/Diaspora_logo.svg}
    \caption[Diaspora's logo]{\label{fig:diaspora-logo}
        \textit{Diaspora} logo

        Fonte: \url{https://www.iconfinder.com/icons/231175/social_social_media_square_logo_media_diaspora_icon}
    }
\end{figure}

\section{Bitstagram}

É uma rede social de fotos que permite o usuário armazenar as fotos em uma \textit{blockchain} (com o tamanho de bloco consideravelmente grande como\textit{BCashSV}~\cite{BTCSV} cujos blocos tinham limite de 128MB à época e agora têm 2GB com planos para serem ilimitados), e quando necessário a aplicação lê as imagens na \textit{blockchains}.
As fotos postadas no \textit{Bitstagram}\footnote{\url{https://bitstagram.bitdb.network/}} são imutáveis e são cobradas, esse é um fator que afasta os usuários visto que se a foto postada for a foto errada não terão como editar e ainda será cobrado, isso tira a naturalidade com que os usuários utilizam a rede social, sendo um problema se comparado aos seus concorrentes centralizados.

\begin{figure}[htb!]
    \centering
    \includegraphics[width = .5\textwidth]{fig/bitstagram_logo.png}
    \caption[Bitstagram's logo]{\label{fig:bitstagram-logo}
        \textit{Bitstagram}'s logo

        Fonte: \url{https://bitstagram.bitdb.network/}
    }
\end{figure}

\section{\textit{Twitch}}

É uma rede social de transmissão de vídeo que surgiu em junho de 2011.
O conteúdo da plataforma pode ser visto ao vivo ou sob demanda.
Em dois mil e quinze a \textit{Twitch}\footnote{\url{https://www.twitch.tv/}} bateu a marca de mais de cem milhões de espectadores por mês~\cite{Twitch1}.
Pela natureza do conteúdo ser ao vivo é garantido certa liberdade a censura, porém se algum ato violar a politica da plataforma o canal pode ser banido indefinidamente e todos as gravações do canal deletadas.
A monetização da plataforma se da através de propagandas, inscrições e doações, sendo parte do dinheiro destinado ao canal e parte da própria \textit{Twitch}.

\begin{figure}[htb!]
    \centering
    \includesvg[height = 0.15\textheight]{fig/twitch_logo.svg}
    \caption[Twitch's logo]{\label{fig:twitch-logo}
        \textit{Twitch}'s logo% "\cite{diasporalogo}" nicolas diaspora citado no twitch?
    }
\end{figure}

\section{\textit{Memo}}

Memo\footnote{\url{https://memo.cash/}} é uma aplicação mídia social similar ao \textit{Twitter}, mas que armazena os dados dos seus usuário em uma \textit{blockchain} (com blocos de tamanho grande, neste caso o \textit{BCashABC}~\cite{BTCABC}, com 32MB), com a finalidade de permitir ao seu usuário posts permanentes e incensuráveis.
Essa imutabilidade é muito interessante para garantir a liberdade e o livre arbítrio, porém a cobrança de taxas para o armazenamento na \textit{blockchain} tira a naturalidade com que os usuários utilizam a rede social, sendo um empecilho para a popularização da rede social.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{fig/Memo.jpg}
    \caption[Protocolo Memo]{\label{fig:memo-protocol}
        Protocolo Memo~\cite{Memo1}
    }
\end{figure}

\section{\textit{Twetch}}

Assim como o \textit{Memo} é uma aplicação similar ao \textit{Twitter}, com arquitetura distribuída, que também utiliza \textit{blockchain} (com o tamanho de bloco consideravelmente grande como BCashSV~\cite{BTCSV} cujos blocos tinham limite de 128MB à época e agora têm 2GB com planos para serem ilimitados) para armazenar os dados dos usuários.

\textit{Twetch}\footnote{\url{https://twetch.app/}} promete eu seu site ser uma rede social onde o usuário é dono de seus dados e ganha dinheiro pelo seu conteúdo sem interferência de terceiros, garante um sistema de chat completamente privado onde apenas acessível a quem o usuário der permissão, permitindo que seus dados sejam realmente apenas seus~\cite{Twetch1}.

A monetização é controlada pelo usuário que pode determinar quanto irá cobrar para interagirem com seu \textit{post} (veja a figura~\ref{fig:twetch-profit}), qualquer um pode comentar em qualquer \textit{post}, porém a funcionalidade \textit{TrollToll} permite cobrar um valor maior de um usuário para interagir no seu \textit{post}, uma maneira de evitar usuários sem bloqueá-los.
Essas funcionalidades de personalização de cobrança e anonimato dos dados, fizeram com que a rede social alcançasse a marca de um milhão de transações na \textit{blockchain} apenas dezoito meses após sua criação~\cite{Twetch2}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.75\textwidth]{fig/profit.png}
    \caption[Monetização no Twetch]{\label{fig:twetch-profit}
        Screenshot demonstrando a monetização no \textit{Twetch}~\cite{Twetch1}
    }
\end{figure}

\section{Comparativo}

Nesta seção iremos fazer comparações entre as rede sociais analisada previamente neste capítulo, para isso utilizaremos a tabela~\ref{tab:social-media-comparison} para ilustrar a análise aqui feita e destacar elementos que julgamos importantes da análise individual feita das mídias sociais atuais.

Através das plataformas e dos elementos de comparação analisados na tabela~\ref{tab:social-media-comparison}, podemos inferir que aplicações que apresentaram na coluna arquitetura a característica centralizada  apresentam na coluna sensibilidade à censura que são sensíveis a  censura, sofrem de problemas de censura pois a arquitetura centralizada apresenta defeitos que facilitam a censura, por exemplo o ponto único de falha pois havendo um ponto na rede que concentra todos os dados e recursos da rede tendo o controle sobre esse ponto se é capaz de controlar todo o fluxo de dados da rede, facilitando a censura. Mesmo redes sociais que não necessitam de cadastro para serem utilizadas como \textit{4chan}, por ser centralizada apresentam vulnerabilidade à censura.

Enquanto as redes sociais que apresentaram na coluna arquiteturas a característica de  distribuídas e utilizam algum tipo de proteção aos dados de seus usuários como o \textit{Memo} e o \textit{Bitstagram} que utilizam \textit{blockchain} para garantir a proteção e imutabilidade dos dados conseguiram apresentar na coluna sensibilidade a censura total resistência à censura. Fica evidente que quanto mais os dados estão distribuídos na rede mais difícil será  censurar ou deletá-los. Assim, por os dados estarem distribuídos pela rede exercer algum controle sobre eles fica dificultado pois um mesmo dado pode estar em vários nodos da rede, assim para exercer a mesma influência que no modelo centralizado necessita o controle de todos os nodos da rede. Outro aliado é o armazenamento de dados na \textit{blockchain}, pois armazenando os dados no formato de transações garante a autenticidade dos dados pela rede, assegurando também a imutabilidade dos dados.

Outro elemento que pode se inferir a partir da análise, é que os resultados  da coluna monetização interferem nos resultados da coluna base de usuários, assim as redes sociais que apresentam o modelo \textit{pay-to-use}/\textit{pay and earn}, apresentam menor base de usuários se comparadas às que utilizam-se de propagandas e publicidades, isso naturalmente se deve ao fato que cobrança diretas ao usuário aparentam ser mais intrusivas que publicidades pelo site, apresentando assim uma barreira de entrada. Outro dado relaciona a coluna de base de usuário é a relação com a coluna arquitetura, assim redes sociais que apresentam arquiteturas centralizadas contém mais usuários que as que apresentam arquiteturas distribuídas, isso se deve a dois fatores, o primeiro as redes sociais de arquitetura centralizada existem a mais tempo sendo amplamente difundidas nos anos dois mil, enquanto redes sociais distribuídas começam a surgir na segunda metade da década de dois mil e dez. O segundo fato é os já mencionados \textit{Walled gardens}, detendo o maior número de usuários por terem surgido primeiro as redes sociais centralizadas criam barreiras para evitar a migração de seus usuários para outras redes sociais, dificultando o surgimento e crescimento de redes sociais distribuídas.

Assim concluímos a comparação, analisando que as redes sociais com arquitetura distribuída apresentam vantagens importantes se comparadas às que apresentam arquitetura centralizada, porém ainda não apresentam uma forma atrativa para atrair os usuários de plataformas centralizadas, seja por seus problemas na barreira de entrada com o modelo monetização, ou por barreiras impostas pelas outras plataformas para a migração de usuários, necessitando um modelo de transição gradual e amigável ao usuário.


\begin{table}[H]
    \begin{center}
        %\rowcolors{4}{black!10}{black!15}
        \setlength{\tabcolsep}{.25cm}
        \resizebox{1.0\linewidth}{!}{
            \begin{tabular}
                { r*{2}{>{\columncolor[gray]{0.95}}c>{\columncolor[gray]{1.0}}c}}
                \noalign{\smallskip}
                \hline
                \multirow{1}{*}{\textbf{Rede Social}} & {\textbf{Monetização}}  & {\textbf{Arquitetura}}   & {\textbf{Base de Usuários}} & {\textbf{Sensibilidade à Censura}}
                \tabularnewline
                \hline
                Facebook                              & Anúncios intrusivos     & Centralizada             & 2.7B                        & Extremamente Sensível
                \tabularnewline
                Twitch                                & Anúncios intrusivos     & Centralizada             & 100M                        & Sensível
                \tabularnewline
                4Chan                                 & Anúncios não-intrusivos & Centralizada             & 20M                         & Sensível
                \tabularnewline
                Diaspora                              & Anúncios opcionais      & Descentralizada          & 756k~\cite{Diaspora3}       & Relativamente Sensível
                \tabularnewline
                Memo                                  & pay-to-use              & Distribuída              & 20.5k                       & Resistente
                \tabularnewline
                Twetch                                & pay and earn            & GUI centr., dados distr. & 16.9k                       & Resistente*
                \tabularnewline
                Bitstagram                            & pay-to-use              & Distribuída              & 10.2k                       & Resistente
            \end{tabular}
        }
    \end{center}
    \caption{\label{tab:social-media-comparison}
        Comparação das redes sociais ordenadas por número de usuários.\\
        Fonte: os autores.
    }
\end{table}

\chapter{Proposta de arquitetura baseada na Web 3.0}

Propomos o desenvolvimento de um conjunto de ferramentas que auxiliem no que efetivamente seria uma separação total entre a camada de dados e a de apresentação, a fim de possibilitar o compartilhamento dos dados em uma rede \textit{peer-to-peer} e impossibilitar que uma só entidade tenha o controle sobre a disseminação da informação.
Assim retirando o poder de ação sobre os dados, que hoje as corporações detentoras de mídia sociais populares têm, e distribuindo esse poder entre seus usuários.

Enfatizamos que os seguintes princípios devem guiar todas escolhas de tecnologias, protocolos, e dependências:

\begin{enumerate}
    \item Ter comunidade ativa
    \item Ser free open-source software
    \item Empregar formatos largamente difundidos
    \item Funcionar offline e independente de \textit{third parties}
\end{enumerate}

Nas próximas seções apresentaremos individualmente cada ferramenta necessária para concretizar nossa visão para uma mídia social.
Em seguida, na última seção, teremos clarificações sobre como nossa solução lida com os problemas delineados no capítulo~\ref{chap:problem}.

\section{Web-scrapers como estratégia de extração de dados não-consensual}

O primeiro desafio é ``atravessar o muro'', i.e., facilitar a migração do conteúdo dos usuários de um plataforma centralizada da web 2.0 para uma descentralizada da web 3.0 sem dependermos da boa vontade das corporações que as controlam.
Para isso propomos que se desenvolva \textit{web-scrapers} \textit{open-source} para que usuários possam \textit{download} (baixar) conteúdo facilmente de modo automatizado.
Ademais, para que haja real descentralização dos dados, é necessário que estruturas de dados sejam escolhidas e padrões criados e seguidos pelos desenvolvedores dos \textit{scrapers}, pois os dados precisam ser estruturados de modo que convenha o compartilhamento de dados entre usuários.
Conveniente nos nossos olhos implica no uso de estruturas de dados auto-verificantes (\textit{hashing}), determinísticas (endereçamento por conteúdo), convergentes (livre de conflitos que exijam resolução manual e independente de ordem), e serializáveis.

\section{Rede de compartilhamento de dados peer-to-peer}

Depender de livre associação dos usuários provavelmente condenaria o projeto a falhar.
Logo, propomos a criação de um protocolo não somente de envio de arquivos, mas também de \textit{location tracking} (rastreamento de localizações, provavelmente com alguma DHT ou algo similar) para permitir que um nodo da rede descubra quais outros nodos possuem algum item.
Algumas diretrizes gerais para a rede são:
\begin{itemize}
    \item suportar grandes quantidades de arquivos (na escala de bilhões)
    \item prevenir duplicação de conteúdo~\ref{foot:content-dup}
    \item permitir que os usuários decidam qual conteúdo, se algum, vão armazenar em seus computadores permanentemente
\end{itemize}
\longfootnote[foot:content-dup]{
    Duplicação, diferentemente de replicação que é quando usuários fazem cópias que são corretamente rastreadas no sistema, se trata de conteúdo armazenado repetidas vezes na rede sem serem associados entre si, o que poderia ser considerado um caso especial de particionamento da rede~\cite{wiki:cap-theorem}, causaria perda de dados e deveria ser considerado um bug.
}

\section{Internet de confiança\label{sec:int-of-trust}}

Um dos casos de uso centrais do nosso projeto é acoplar resistência à censura às mídias sociais.
Para tal, precisamos de algum mecanismo que nos permita distinguir quais usuários são confiáveis o suficiente para baixarmos conteúdo que não esteja mais hospedado no provedor original (e.g., que tenha sido apagado dos servidores do Facebook).
Sem empregar autoridades centrais, a única solução para consenso (confiança) global, num sistema distribuído com participantes desconhecidos, estabelecida são blockchains com \textit{cryptocurrencies} associadas como Bitcoin~\cite{nakamoto2008bitcoin}.
Utilizar uma blockchain já estabelecida, envolveria custos para aquisição dos tokens e implementar uma própria traria várias complicações e preocupações de segurança e complexidade.
Então, seguindo o princípio KISS\footnote{``Keep It Simple, Stupid.'', \url{https://en.wikipedia.org/wiki/KISS_principle}}, optamos por uma solução customizada em que um grafo direcionado (uma rede, uma internet) de confiança emerge como consequência do design feito.
Design esse que será explicado a seguir:

\begin{itemize}
    \item Cada usuário pode criar um par de chaves criptográficas assimétricas para si
    \item Cada usuário deverá também manter uma lista de chaves públicas dos nodos em que ele confia
    \item Cada usuário pode assinar as \textit{hashes} do conteúdo que ele disponibilizar para download
    \item Deve ser mantida uma estrutura de dados (compartilhada para não onerar os nodos a ponto de sacrificarmos a descentralização) que mapeie IDs de posts para \textit{hashes} endereçadoras da rede \textit{peer-to-peer}
    \item Quando um usuário adicionar um nodo confiável à sua lista de nodos confiáveis, ele deve ser capaz de parametrizar um inteiro especificando a quantos níveis de indireção ele confia nesse nodo (e.g., 0: apenas ele, 1: ele e os nodos que ele confia, e assim por diante)
\end{itemize}

Dadas essas premissas, vamos explicar agora o fluxo para um usuário download da rede \textit{peer-to-peer} um post hipotético que tenha sido apagado dos servidores oficiais da plataforma em questão.

\begin{enumerate}
    \item Tentar acessar um post por sua ID
    \item Notar que ele foi apagado
    \item Query a rede com a ID do post para descobrir a \textit{hash} dele
    \item Query a rede com a \textit{hash} para descobrir quais nodos possuem esse post
    \item Verificar se algum desses nodos se encontra na minha lista de nodos confiáveis
        \subitem Caso algum esteja, download dele.
        \subitem Caso nenhum esteja, um aviso deve ser dado ao usuário perguntando se ele está disposto a download de um nodo não-confiável.
\end{enumerate}

\section{Consequências da quebra dos muros}
% \section{Cenário ganha-ganha}

Quando as corporações por trás das mídias sociais perderem o controle que possuem sobre o conteúdo criado pelos usuários, poderão mirar seu foco em tornar sua interface a mais amigável e confortável possível; alinhando seus interesses com os dos usuários.
Interesses que, atualmente, estão majoritariamente focados em tornar suas plataformas jardins com muros cada vez mais altos, enquanto seus usuários querem apenas uma ferramenta eficiente e confortável para se comunicarem.
Salientamos que nossa proposta vem com benefícios para as corporações que aproveitarão uma diminuição das suas obrigações e responsabilidades.
Pois poderão, por exemplo, simplificar suas políticas de cumprimento das leis de proteção de dados regionais (LGPD, GDPR) e, uma vez que madura a rede \textit{peer-to-peer}, poderão aproveitá-la como CDN (rede de entrega de conteúdo do inglês \textit{content delivery network}).
Ainda, os usuários beneficiar-se-ão não somente da foco redirecionado da empresa original atualizando sua interface com a melhor UX possível, mas também do saudável ecossistema de competição que surgirá para a criação de interfaces alternativas e aglomerativas (e.g., combinando o feed de stories do Instagram e do Facebook, o feed de fleets do Twitter, e o de status do WhatsApp num só).

Assim, reforçamos o objetivo tripartite aqui sendo alcançado:
\begin{enumerate*}[label=(\arabic*)]
    \item conceder aos usuários controle sobre seus dados e conteúdo para interagirem com eles como queiram,
    \item diminuir o poder que plataformas de mídias sociais atualmente têm sobre seus usuários, e, por fim,
    \item facilitar esforços de arquivamento para fins históricos, legais, e de entretenimento.
\end{enumerate*}
Enfatizamos que a relevância do ítem 3 não deve ser subestimada.
Atualmente, podem existir muitas cópias de um arquivo em computadores pelo mundo inteiro, mas sem nenhum modo de encontrá-lo e baixá-lo, podemos considerá-lo \textit{lost media}\footnotemark.
\footnotetext{
    Arquivos digitais com registros de terem existido, mas que nenhuma cópia pode ser encontrada mais.
    Projeto que cataloga famous lost media: \url{https://lostmediawiki.com/Home}
}

% Firstly, to attempt to empower users over their data and over the way they want to interact with it (e.g., using a custom GUI to access one's Instagram DMs or a different recommendation algorithm for one's TikTok For You page).
% Secondly, to diminish the walled-garden-granted ``power'' social media platforms currently have over their users (e.g., hindering creators' reach because of their political opinions or making obscene changes to their apps' interfaces).
% And thirdly, (mostly as a consequence of the previous ones) to allow for much easier historical archiving efforts as content will be seldom lost, because there will be control mechanisms (probably some sort of DHT) tracking what data each host/node has.
% Nowadays, there could even be many copies of a file out there, but with no way for one to find it and download it, it might as well be considered lost media.
